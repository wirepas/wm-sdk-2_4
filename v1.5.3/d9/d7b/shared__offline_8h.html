<!-- HTML header for doxygen 1.8.17-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Wirepas SDK: libraries/shared_offline/shared_offline.h File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<script type="text/javascript" src="../../../select_version.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<link rel="search" href="../../search_opensearch.php?v=opensearch.xml" type="application/opensearchdescription+xml" title="Wirepas SDK"/>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="../../wirepas_custom.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
  <table class="table-title" cellspacing="0" cellpadding="0">
    <tbody>
      <tr style="height: 56px;">
        <td id="projectlogo"><img alt="Logo" src="../../small_logo.png"/></td>
        <td id="projectalign" style="padding-left: 0.5em;">
          <div id="projectname">Wirepas SDK
          </div>
        </td>
        <td id="selectversion" style="padding-left: 2em;">
          <select id="selectversion_list" onchange="javascript:handleVersionSelect(this)"></select>
        </td>
      </tr>
    </tbody>
  </table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',true,true,'search.html','Search');
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() {
    if ($('.searchresults').length > 0) { searchBox.DOMSearchField().focus(); }
  });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('d9/d7b/shared__offline_8h.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#define-members">Macros</a>  </div>
  <div class="headertitle">
<div class="title">shared_offline.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This library allows multiple application modules to control the NRLS feature of the stack at the same time without conflicts. Ie, when the stack can freely disconnect from the network and enter offline mode. The purpose of this mode is to save energy.</p>
<dl class="section note"><dt>Note</dt><dd>Switching too often between online and offline mode may have the opposite desired effect. In fact, each time a node will be back in online mode, it will trigger a scan and consume additional power. </dd>
<dd>
This library can only be used if node role is non-router. Otherwise it will have no effect. </dd></dl>

<p class="definition">Definition in file <a class="el" href="../../d9/d7b/shared__offline_8h_source.html">shared_offline.h</a>.</p>
</div>
<p><a href="../../d9/d7b/shared__offline_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a526b77dac079ae27c6489a8ad7a28ee2"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d7b/shared__offline_8h.html#a526b77dac079ae27c6489a8ad7a28ee2">offline_cb_f</a>) (uint32_t delay_s)</td></tr>
<tr class="memdesc:a526b77dac079ae27c6489a8ad7a28ee2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Offline callback called when the node enter offline state It means that all the module are ready to enter offline mode.  <a href="../../d9/d7b/shared__offline_8h.html#a526b77dac079ae27c6489a8ad7a28ee2">More...</a><br /></td></tr>
<tr class="separator:a526b77dac079ae27c6489a8ad7a28ee2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afb97bfcad3ff0102cc1779c3d08113e4"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d7b/shared__offline_8h.html#afb97bfcad3ff0102cc1779c3d08113e4">online_cb_f</a>) (uint32_t delay_from_deadline_s)</td></tr>
<tr class="memdesc:afb97bfcad3ff0102cc1779c3d08113e4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Online callback called when the node enter online state.  <a href="../../d9/d7b/shared__offline_8h.html#afb97bfcad3ff0102cc1779c3d08113e4">More...</a><br /></td></tr>
<tr class="separator:afb97bfcad3ff0102cc1779c3d08113e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a68ab2b3d1b3904f7a6109b9f4e80f412"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/d7b/shared__offline_8h.html#aefa461dc0c233649c2691881fa6e0854">shared_offline_res_e</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d7b/shared__offline_8h.html#a68ab2b3d1b3904f7a6109b9f4e80f412">Shared_Offline_init</a> (void)</td></tr>
<tr class="memdesc:a68ab2b3d1b3904f7a6109b9f4e80f412"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize shared offline module.  <a href="../../d9/d7b/shared__offline_8h.html#a68ab2b3d1b3904f7a6109b9f4e80f412">More...</a><br /></td></tr>
<tr class="separator:a68ab2b3d1b3904f7a6109b9f4e80f412"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4b9b2e439a69c53dc4441f3ad1333544"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/d7b/shared__offline_8h.html#aefa461dc0c233649c2691881fa6e0854">shared_offline_res_e</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d7b/shared__offline_8h.html#a4b9b2e439a69c53dc4441f3ad1333544">Shared_Offline_register</a> (uint8_t *id_p, <a class="el" href="../../d9/d7b/shared__offline_8h.html#d0/d36/structoffline__setting__conf__t">offline_setting_conf_t</a> cbs)</td></tr>
<tr class="memdesc:a4b9b2e439a69c53dc4441f3ad1333544"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register to offline share lib It is required to take part of the offline arbitration.  <a href="../../d9/d7b/shared__offline_8h.html#a4b9b2e439a69c53dc4441f3ad1333544">More...</a><br /></td></tr>
<tr class="separator:a4b9b2e439a69c53dc4441f3ad1333544"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a88b5c098611632556cf56e5803cd008b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/d7b/shared__offline_8h.html#aefa461dc0c233649c2691881fa6e0854">shared_offline_res_e</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d7b/shared__offline_8h.html#a88b5c098611632556cf56e5803cd008b">Shared_Offline_unregister</a> (uint8_t id_p)</td></tr>
<tr class="memdesc:a88b5c098611632556cf56e5803cd008b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unregister from offline share lib Once done, you will not be notified anymore for online/offline event.  <a href="../../d9/d7b/shared__offline_8h.html#a88b5c098611632556cf56e5803cd008b">More...</a><br /></td></tr>
<tr class="separator:a88b5c098611632556cf56e5803cd008b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2be7450b6f803a68ddc4f82607f645be"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/d7b/shared__offline_8h.html#aefa461dc0c233649c2691881fa6e0854">shared_offline_res_e</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d7b/shared__offline_8h.html#a2be7450b6f803a68ddc4f82607f645be">Shared_Offline_enter_offline_state</a> (uint8_t id, uint32_t delay_s)</td></tr>
<tr class="memdesc:a2be7450b6f803a68ddc4f82607f645be"><td class="mdescLeft">&#160;</td><td class="mdescRight">Call to asynchronously enter in offline state.  <a href="../../d9/d7b/shared__offline_8h.html#a2be7450b6f803a68ddc4f82607f645be">More...</a><br /></td></tr>
<tr class="separator:a2be7450b6f803a68ddc4f82607f645be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6ebbcb30feb3081bbc877bee58e3d44f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/d7b/shared__offline_8h.html#aefa461dc0c233649c2691881fa6e0854">shared_offline_res_e</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d7b/shared__offline_8h.html#a6ebbcb30feb3081bbc877bee58e3d44f">Shared_Offline_enter_online_state</a> (uint8_t id)</td></tr>
<tr class="memdesc:a6ebbcb30feb3081bbc877bee58e3d44f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Call to asynchronously enter in online state.  <a href="../../d9/d7b/shared__offline_8h.html#a6ebbcb30feb3081bbc877bee58e3d44f">More...</a><br /></td></tr>
<tr class="separator:a6ebbcb30feb3081bbc877bee58e3d44f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a76af997618cf08f0e33801ad4439c290"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/d7b/shared__offline_8h.html#a1c71a0996c8c02b3eb12c07b767498f5">shared_offline_status_e</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d7b/shared__offline_8h.html#a76af997618cf08f0e33801ad4439c290">Shared_Offline_get_status</a> (uint32_t *elapsed_s_p, uint32_t *remaining_s_p)</td></tr>
<tr class="memdesc:a76af997618cf08f0e33801ad4439c290"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the current status.  <a href="../../d9/d7b/shared__offline_8h.html#a76af997618cf08f0e33801ad4439c290">More...</a><br /></td></tr>
<tr class="separator:a76af997618cf08f0e33801ad4439c290"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:d0/d36/structoffline__setting__conf__t"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d7b/shared__offline_8h.html#d0/d36/structoffline__setting__conf__t">offline_setting_conf_t</a></td></tr>
<tr class="separator:d0/d36/structoffline__setting__conf__t"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:aefa461dc0c233649c2691881fa6e0854"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d7b/shared__offline_8h.html#aefa461dc0c233649c2691881fa6e0854">shared_offline_res_e</a> { <br />
&#160;&#160;<a class="el" href="../../d9/d7b/shared__offline_8h.html#aefa461dc0c233649c2691881fa6e0854a28cfa3a6f0cc0531c9329276ab32cb86">SHARED_OFFLINE_RES_OK</a> = 0, 
<a class="el" href="../../d9/d7b/shared__offline_8h.html#aefa461dc0c233649c2691881fa6e0854aaf46f2644ac61f5911504953d395d74b">SHARED_OFFLINE_RES_NO_MORE_ROOM</a> = 1, 
<a class="el" href="../../d9/d7b/shared__offline_8h.html#aefa461dc0c233649c2691881fa6e0854a18479e6d2489f428dead215ec4d3c088">SHARED_OFFLINE_RES_WRONG_ID</a> = 2, 
<a class="el" href="../../d9/d7b/shared__offline_8h.html#aefa461dc0c233649c2691881fa6e0854a431bdcf01c237303f5d9d54145cad117">SHARED_OFFLINE_RES_UNINITIALIZED</a> = 3, 
<br />
&#160;&#160;<a class="el" href="../../d9/d7b/shared__offline_8h.html#aefa461dc0c233649c2691881fa6e0854a61e1ce72d63108c20ba1286785091ca2">SHARED_OFFLINE_RES_ALREADY_ONLINE</a> = 4, 
<a class="el" href="../../d9/d7b/shared__offline_8h.html#aefa461dc0c233649c2691881fa6e0854a3d6d5f4a923147e718ad4a7e623a7a91">SHARED_OFFLINE_RES_WRONG_ROLE</a> = 5
<br />
 }</td></tr>
<tr class="memdesc:aefa461dc0c233649c2691881fa6e0854"><td class="mdescLeft">&#160;</td><td class="mdescRight">List of return code.  <a href="../../d9/d7b/shared__offline_8h.html#aefa461dc0c233649c2691881fa6e0854">More...</a><br /></td></tr>
<tr class="separator:aefa461dc0c233649c2691881fa6e0854"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c71a0996c8c02b3eb12c07b767498f5"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d7b/shared__offline_8h.html#a1c71a0996c8c02b3eb12c07b767498f5">shared_offline_status_e</a> { <a class="el" href="../../d9/d7b/shared__offline_8h.html#a1c71a0996c8c02b3eb12c07b767498f5ac46b43aedfa9b9bee91528bfec685297">SHARED_OFFLINE_STATUS_OFFLINE</a> = 0, 
<a class="el" href="../../d9/d7b/shared__offline_8h.html#a1c71a0996c8c02b3eb12c07b767498f5ac3a7334b8d99f4804aee48eca7485e57">SHARED_OFFLINE_STATUS_ONLINE</a> = 1, 
<a class="el" href="../../d9/d7b/shared__offline_8h.html#a1c71a0996c8c02b3eb12c07b767498f5a9067a19a3f68a8ac40733916856334c3">SHARED_OFFLINE_STATUS_UNINITIALIZED</a> = 3
 }</td></tr>
<tr class="memdesc:a1c71a0996c8c02b3eb12c07b767498f5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Offline state.  <a href="../../d9/d7b/shared__offline_8h.html#a1c71a0996c8c02b3eb12c07b767498f5">More...</a><br /></td></tr>
<tr class="separator:a1c71a0996c8c02b3eb12c07b767498f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a7dbc8e19b424cbfaba729339475ba2ef"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d7b/shared__offline_8h.html#a7dbc8e19b424cbfaba729339475ba2ef">SHARED_OFFLINE_INFINITE_DELAY</a>&#160;&#160;&#160;(uint32_t)(-1)</td></tr>
<tr class="separator:a7dbc8e19b424cbfaba729339475ba2ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="a526b77dac079ae27c6489a8ad7a28ee2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a526b77dac079ae27c6489a8ad7a28ee2">&#9670;&nbsp;</a></span>offline_cb_f</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* offline_cb_f) (uint32_t delay_s)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Offline callback called when the node enter offline state It means that all the module are ready to enter offline mode. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">delay_s</td><td>Delay the node will stay offline if none of the registered module ask to enter online state asynchronously </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d9/d7b/shared__offline_8h_source.html#l00070">70</a> of file <a class="el" href="../../d9/d7b/shared__offline_8h_source.html">shared_offline.h</a>.</p>

</div>
</div>
<a id="afb97bfcad3ff0102cc1779c3d08113e4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afb97bfcad3ff0102cc1779c3d08113e4">&#9670;&nbsp;</a></span>online_cb_f</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* online_cb_f) (uint32_t delay_from_deadline_s)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Online callback called when the node enter online state. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">delay_from_deadline_s</td><td>Delay in second per module relative to the initially requested time. If two registered modules M1 and M2 ask at the same time to stay offline for 3600 and 4000 seconds respectively, this variable will be set at 0 for M1 and 400 for M2. In fact online event happens 400s before initial M2 online request time. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>It is the responsibility of each registered module to ask for entering in offline state again by calling <a class="el" href="../../d9/d7b/shared__offline_8h.html#a2be7450b6f803a68ddc4f82607f645be">Shared_Offline_enter_offline_state</a>. The call can be made directly from this callback. </dd>
<dd>
For power consumption optimization, each module should try (if possible) to move forward their network activity (like sending a status) if their deadline is close, instead of asking to go offline for very short period. </dd>
<dd>
on_online_event will be called at the latest when the deadline of the module to be online is reached. It can be called earlier if someone else has requested the online state earlier but it will never be called later. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d9/d7b/shared__offline_8h_source.html#l00093">93</a> of file <a class="el" href="../../d9/d7b/shared__offline_8h_source.html">shared_offline.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a2be7450b6f803a68ddc4f82607f645be"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2be7450b6f803a68ddc4f82607f645be">&#9670;&nbsp;</a></span>Shared_Offline_enter_offline_state()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/d7b/shared__offline_8h.html#aefa461dc0c233649c2691881fa6e0854">shared_offline_res_e</a> Shared_Offline_enter_offline_state </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>delay_s</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Call to asynchronously enter in offline state. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">id</td><td>Id of the module asking for offline state </td></tr>
    <tr><td class="paramname">delay_s</td><td>Maximum delay in s to stay offline </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Return code of the operation </dd></dl>

</div>
</div>
<a id="a6ebbcb30feb3081bbc877bee58e3d44f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6ebbcb30feb3081bbc877bee58e3d44f">&#9670;&nbsp;</a></span>Shared_Offline_enter_online_state()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/d7b/shared__offline_8h.html#aefa461dc0c233649c2691881fa6e0854">shared_offline_res_e</a> Shared_Offline_enter_online_state </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Call to asynchronously enter in online state. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">id</td><td>Id of the module asking for online state </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Return code of the operation </dd></dl>

</div>
</div>
<a id="a76af997618cf08f0e33801ad4439c290"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a76af997618cf08f0e33801ad4439c290">&#9670;&nbsp;</a></span>Shared_Offline_get_status()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/d7b/shared__offline_8h.html#a1c71a0996c8c02b3eb12c07b767498f5">shared_offline_status_e</a> Shared_Offline_get_status </td>
          <td>(</td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>elapsed_s_p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>remaining_s_p</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the current status. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">elapsed_s_p</td><td>Pointer to get the time in s already elapsed in the current state Can be NULL if caller is not interested by the info. </td></tr>
    <tr><td class="paramname">remaining_s_p</td><td>Pointer to get the time in s remaining in this state if no other event happens. Can be NULL if caller is not interested by the info. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Return code of the operation </dd></dl>

</div>
</div>
<a id="a68ab2b3d1b3904f7a6109b9f4e80f412"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a68ab2b3d1b3904f7a6109b9f4e80f412">&#9670;&nbsp;</a></span>Shared_Offline_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/d7b/shared__offline_8h.html#aefa461dc0c233649c2691881fa6e0854">shared_offline_res_e</a> Shared_Offline_init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize shared offline module. </p>
<dl class="section note"><dt>Note</dt><dd>If this library is used in application, the nrls stack library MUST NOT be used outside of this module </dd></dl>

</div>
</div>
<a id="a4b9b2e439a69c53dc4441f3ad1333544"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4b9b2e439a69c53dc4441f3ad1333544">&#9670;&nbsp;</a></span>Shared_Offline_register()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/d7b/shared__offline_8h.html#aefa461dc0c233649c2691881fa6e0854">shared_offline_res_e</a> Shared_Offline_register </td>
          <td>(</td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>id_p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d9/d7b/shared__offline_8h.html#d0/d36/structoffline__setting__conf__t">offline_setting_conf_t</a>&#160;</td>
          <td class="paramname"><em>cbs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Register to offline share lib It is required to take part of the offline arbitration. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">id_p</td><td>Pointer to store the id assigned to the module </td></tr>
    <tr><td class="paramname">cbs</td><td>Callbacks for module event </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Return code of the operation </dd></dl>

</div>
</div>
<a id="a88b5c098611632556cf56e5803cd008b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a88b5c098611632556cf56e5803cd008b">&#9670;&nbsp;</a></span>Shared_Offline_unregister()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/d7b/shared__offline_8h.html#aefa461dc0c233649c2691881fa6e0854">shared_offline_res_e</a> Shared_Offline_unregister </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>id_p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Unregister from offline share lib Once done, you will not be notified anymore for online/offline event. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">id_p</td><td>Pointer to store the id assigned to the module </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Return code of the operation </dd></dl>

</div>
</div>
<hr/><h2 class="groupheader">Data Structure Documentation</h2>
<a name="d0/d36/structoffline__setting__conf__t" id="d0/d36/structoffline__setting__conf__t"></a>
<h2 class="memtitle"><span class="permalink"><a href="#d0/d36/structoffline__setting__conf__t">&#9670;&nbsp;</a></span>offline_setting_conf_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct offline_setting_conf_t</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock">
<p class="definition">Definition at line <a class="el" href="../../d9/d7b/shared__offline_8h_source.html#l00095">95</a> of file <a class="el" href="../../d9/d7b/shared__offline_8h_source.html">shared_offline.h</a>.</p>
</div><table class="fieldtable">
<tr><th colspan="3">Data Fields</th></tr>
<tr><td class="fieldtype">
<a id="a9a8583f437551ba76fe935b3f33caddf"></a><a class="el" href="../../d9/d7b/shared__offline_8h.html#a526b77dac079ae27c6489a8ad7a28ee2">offline_cb_f</a></td>
<td class="fieldname">
on_offline_event</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="ab1fdc7256203f4c2f98d0e5208eefd17"></a><a class="el" href="../../d9/d7b/shared__offline_8h.html#afb97bfcad3ff0102cc1779c3d08113e4">online_cb_f</a></td>
<td class="fieldname">
on_online_event</td>
<td class="fielddoc">
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="aefa461dc0c233649c2691881fa6e0854"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aefa461dc0c233649c2691881fa6e0854">&#9670;&nbsp;</a></span>shared_offline_res_e</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../d9/d7b/shared__offline_8h.html#aefa461dc0c233649c2691881fa6e0854">shared_offline_res_e</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>List of return code. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="aefa461dc0c233649c2691881fa6e0854a28cfa3a6f0cc0531c9329276ab32cb86"></a>SHARED_OFFLINE_RES_OK&#160;</td><td class="fielddoc"><p>Operation is successful </p>
</td></tr>
<tr><td class="fieldname"><a id="aefa461dc0c233649c2691881fa6e0854aaf46f2644ac61f5911504953d395d74b"></a>SHARED_OFFLINE_RES_NO_MORE_ROOM&#160;</td><td class="fielddoc"><p>No more tasks available </p>
</td></tr>
<tr><td class="fieldname"><a id="aefa461dc0c233649c2691881fa6e0854a18479e6d2489f428dead215ec4d3c088"></a>SHARED_OFFLINE_RES_WRONG_ID&#160;</td><td class="fielddoc"><p>Wrong id </p>
</td></tr>
<tr><td class="fieldname"><a id="aefa461dc0c233649c2691881fa6e0854a431bdcf01c237303f5d9d54145cad117"></a>SHARED_OFFLINE_RES_UNINITIALIZED&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="aefa461dc0c233649c2691881fa6e0854a61e1ce72d63108c20ba1286785091ca2"></a>SHARED_OFFLINE_RES_ALREADY_ONLINE&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="aefa461dc0c233649c2691881fa6e0854a3d6d5f4a923147e718ad4a7e623a7a91"></a>SHARED_OFFLINE_RES_WRONG_ROLE&#160;</td><td class="fielddoc"></td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="../../d9/d7b/shared__offline_8h_source.html#l00032">32</a> of file <a class="el" href="../../d9/d7b/shared__offline_8h_source.html">shared_offline.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;{</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;    <a class="code" href="../../d9/d7b/shared__offline_8h.html#aefa461dc0c233649c2691881fa6e0854a28cfa3a6f0cc0531c9329276ab32cb86">SHARED_OFFLINE_RES_OK</a> = 0,</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;    <a class="code" href="../../d9/d7b/shared__offline_8h.html#aefa461dc0c233649c2691881fa6e0854aaf46f2644ac61f5911504953d395d74b">SHARED_OFFLINE_RES_NO_MORE_ROOM</a> = 1,</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;    <a class="code" href="../../d9/d7b/shared__offline_8h.html#aefa461dc0c233649c2691881fa6e0854a18479e6d2489f428dead215ec4d3c088">SHARED_OFFLINE_RES_WRONG_ID</a> = 2,</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;    <span class="comment">/* Module is not initialized */</span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;    <a class="code" href="../../d9/d7b/shared__offline_8h.html#aefa461dc0c233649c2691881fa6e0854a431bdcf01c237303f5d9d54145cad117">SHARED_OFFLINE_RES_UNINITIALIZED</a> = 3,</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;    <span class="comment">/* Stack is already online */</span></div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;    <a class="code" href="../../d9/d7b/shared__offline_8h.html#aefa461dc0c233649c2691881fa6e0854a61e1ce72d63108c20ba1286785091ca2">SHARED_OFFLINE_RES_ALREADY_ONLINE</a> = 4,</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;    <span class="comment">/* Role is wrong to enter offline */</span></div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;    <a class="code" href="../../d9/d7b/shared__offline_8h.html#aefa461dc0c233649c2691881fa6e0854a3d6d5f4a923147e718ad4a7e623a7a91">SHARED_OFFLINE_RES_WRONG_ROLE</a> = 5</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;} <a class="code" href="../../d9/d7b/shared__offline_8h.html#aefa461dc0c233649c2691881fa6e0854">shared_offline_res_e</a>;</div>
</div><!-- fragment -->
</div>
</div>
<a id="a1c71a0996c8c02b3eb12c07b767498f5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1c71a0996c8c02b3eb12c07b767498f5">&#9670;&nbsp;</a></span>shared_offline_status_e</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../d9/d7b/shared__offline_8h.html#a1c71a0996c8c02b3eb12c07b767498f5">shared_offline_status_e</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Offline state. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a1c71a0996c8c02b3eb12c07b767498f5ac46b43aedfa9b9bee91528bfec685297"></a>SHARED_OFFLINE_STATUS_OFFLINE&#160;</td><td class="fielddoc"><p>Operation is successful </p>
</td></tr>
<tr><td class="fieldname"><a id="a1c71a0996c8c02b3eb12c07b767498f5ac3a7334b8d99f4804aee48eca7485e57"></a>SHARED_OFFLINE_STATUS_ONLINE&#160;</td><td class="fielddoc"><p>No more tasks available </p>
</td></tr>
<tr><td class="fieldname"><a id="a1c71a0996c8c02b3eb12c07b767498f5a9067a19a3f68a8ac40733916856334c3"></a>SHARED_OFFLINE_STATUS_UNINITIALIZED&#160;</td><td class="fielddoc"></td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="../../d9/d7b/shared__offline_8h_source.html#l00051">51</a> of file <a class="el" href="../../d9/d7b/shared__offline_8h_source.html">shared_offline.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;{</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;    <a class="code" href="../../d9/d7b/shared__offline_8h.html#a1c71a0996c8c02b3eb12c07b767498f5ac46b43aedfa9b9bee91528bfec685297">SHARED_OFFLINE_STATUS_OFFLINE</a> = 0,</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;    <a class="code" href="../../d9/d7b/shared__offline_8h.html#a1c71a0996c8c02b3eb12c07b767498f5ac3a7334b8d99f4804aee48eca7485e57">SHARED_OFFLINE_STATUS_ONLINE</a> = 1,</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;    <span class="comment">/* Module is not initialized */</span></div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;    <a class="code" href="../../d9/d7b/shared__offline_8h.html#a1c71a0996c8c02b3eb12c07b767498f5a9067a19a3f68a8ac40733916856334c3">SHARED_OFFLINE_STATUS_UNINITIALIZED</a> = 3,</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;} <a class="code" href="../../d9/d7b/shared__offline_8h.html#a1c71a0996c8c02b3eb12c07b767498f5">shared_offline_status_e</a>;</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a7dbc8e19b424cbfaba729339475ba2ef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7dbc8e19b424cbfaba729339475ba2ef">&#9670;&nbsp;</a></span>SHARED_OFFLINE_INFINITE_DELAY</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SHARED_OFFLINE_INFINITE_DELAY&#160;&#160;&#160;(uint32_t)(-1)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d9/d7b/shared__offline_8h_source.html#l00061">61</a> of file <a class="el" href="../../d9/d7b/shared__offline_8h_source.html">shared_offline.h</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<div class="ttc" id="ashared__offline_8h_html_aefa461dc0c233649c2691881fa6e0854a28cfa3a6f0cc0531c9329276ab32cb86"><div class="ttname"><a href="../../d9/d7b/shared__offline_8h.html#aefa461dc0c233649c2691881fa6e0854a28cfa3a6f0cc0531c9329276ab32cb86">SHARED_OFFLINE_RES_OK</a></div><div class="ttdeci">@ SHARED_OFFLINE_RES_OK</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d7b/shared__offline_8h_source.html#l00035">shared_offline.h:35</a></div></div>
<div class="ttc" id="ashared__offline_8h_html_aefa461dc0c233649c2691881fa6e0854a431bdcf01c237303f5d9d54145cad117"><div class="ttname"><a href="../../d9/d7b/shared__offline_8h.html#aefa461dc0c233649c2691881fa6e0854a431bdcf01c237303f5d9d54145cad117">SHARED_OFFLINE_RES_UNINITIALIZED</a></div><div class="ttdeci">@ SHARED_OFFLINE_RES_UNINITIALIZED</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d7b/shared__offline_8h_source.html#l00041">shared_offline.h:41</a></div></div>
<div class="ttc" id="ashared__offline_8h_html_a1c71a0996c8c02b3eb12c07b767498f5ac3a7334b8d99f4804aee48eca7485e57"><div class="ttname"><a href="../../d9/d7b/shared__offline_8h.html#a1c71a0996c8c02b3eb12c07b767498f5ac3a7334b8d99f4804aee48eca7485e57">SHARED_OFFLINE_STATUS_ONLINE</a></div><div class="ttdeci">@ SHARED_OFFLINE_STATUS_ONLINE</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d7b/shared__offline_8h_source.html#l00056">shared_offline.h:56</a></div></div>
<div class="ttc" id="ashared__offline_8h_html_aefa461dc0c233649c2691881fa6e0854a3d6d5f4a923147e718ad4a7e623a7a91"><div class="ttname"><a href="../../d9/d7b/shared__offline_8h.html#aefa461dc0c233649c2691881fa6e0854a3d6d5f4a923147e718ad4a7e623a7a91">SHARED_OFFLINE_RES_WRONG_ROLE</a></div><div class="ttdeci">@ SHARED_OFFLINE_RES_WRONG_ROLE</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d7b/shared__offline_8h_source.html#l00045">shared_offline.h:45</a></div></div>
<div class="ttc" id="ashared__offline_8h_html_aefa461dc0c233649c2691881fa6e0854a61e1ce72d63108c20ba1286785091ca2"><div class="ttname"><a href="../../d9/d7b/shared__offline_8h.html#aefa461dc0c233649c2691881fa6e0854a61e1ce72d63108c20ba1286785091ca2">SHARED_OFFLINE_RES_ALREADY_ONLINE</a></div><div class="ttdeci">@ SHARED_OFFLINE_RES_ALREADY_ONLINE</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d7b/shared__offline_8h_source.html#l00043">shared_offline.h:43</a></div></div>
<div class="ttc" id="ashared__offline_8h_html_aefa461dc0c233649c2691881fa6e0854aaf46f2644ac61f5911504953d395d74b"><div class="ttname"><a href="../../d9/d7b/shared__offline_8h.html#aefa461dc0c233649c2691881fa6e0854aaf46f2644ac61f5911504953d395d74b">SHARED_OFFLINE_RES_NO_MORE_ROOM</a></div><div class="ttdeci">@ SHARED_OFFLINE_RES_NO_MORE_ROOM</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d7b/shared__offline_8h_source.html#l00037">shared_offline.h:37</a></div></div>
<div class="ttc" id="ashared__offline_8h_html_aefa461dc0c233649c2691881fa6e0854"><div class="ttname"><a href="../../d9/d7b/shared__offline_8h.html#aefa461dc0c233649c2691881fa6e0854">shared_offline_res_e</a></div><div class="ttdeci">shared_offline_res_e</div><div class="ttdoc">List of return code.</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d7b/shared__offline_8h_source.html#l00032">shared_offline.h:32</a></div></div>
<div class="ttc" id="ashared__offline_8h_html_a1c71a0996c8c02b3eb12c07b767498f5ac46b43aedfa9b9bee91528bfec685297"><div class="ttname"><a href="../../d9/d7b/shared__offline_8h.html#a1c71a0996c8c02b3eb12c07b767498f5ac46b43aedfa9b9bee91528bfec685297">SHARED_OFFLINE_STATUS_OFFLINE</a></div><div class="ttdeci">@ SHARED_OFFLINE_STATUS_OFFLINE</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d7b/shared__offline_8h_source.html#l00054">shared_offline.h:54</a></div></div>
<div class="ttc" id="ashared__offline_8h_html_aefa461dc0c233649c2691881fa6e0854a18479e6d2489f428dead215ec4d3c088"><div class="ttname"><a href="../../d9/d7b/shared__offline_8h.html#aefa461dc0c233649c2691881fa6e0854a18479e6d2489f428dead215ec4d3c088">SHARED_OFFLINE_RES_WRONG_ID</a></div><div class="ttdeci">@ SHARED_OFFLINE_RES_WRONG_ID</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d7b/shared__offline_8h_source.html#l00039">shared_offline.h:39</a></div></div>
<div class="ttc" id="ashared__offline_8h_html_a1c71a0996c8c02b3eb12c07b767498f5"><div class="ttname"><a href="../../d9/d7b/shared__offline_8h.html#a1c71a0996c8c02b3eb12c07b767498f5">shared_offline_status_e</a></div><div class="ttdeci">shared_offline_status_e</div><div class="ttdoc">Offline state.</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d7b/shared__offline_8h_source.html#l00051">shared_offline.h:51</a></div></div>
<div class="ttc" id="ashared__offline_8h_html_a1c71a0996c8c02b3eb12c07b767498f5a9067a19a3f68a8ac40733916856334c3"><div class="ttname"><a href="../../d9/d7b/shared__offline_8h.html#a1c71a0996c8c02b3eb12c07b767498f5a9067a19a3f68a8ac40733916856334c3">SHARED_OFFLINE_STATUS_UNINITIALIZED</a></div><div class="ttdeci">@ SHARED_OFFLINE_STATUS_UNINITIALIZED</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d7b/shared__offline_8h_source.html#l00058">shared_offline.h:58</a></div></div>
<!-- HTML footer for doxygen 1.8.17-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
</div>
</body>
</html>
